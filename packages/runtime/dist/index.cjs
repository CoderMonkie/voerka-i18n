"use strict";var e=require("@babel/runtime-corejs3/core-js-stable/weak-map"),t=require("@babel/runtime-corejs3/core-js-stable/instance/reduce"),r=require("@babel/runtime-corejs3/core-js-stable/object/keys"),a=require("@babel/runtime-corejs3/core-js-stable/object/create"),n=require("@babel/runtime-corejs3/core-js-stable/symbol/replace"),l=require("@babel/runtime-corejs3/core-js-stable/array/from"),u=require("@babel/runtime-corejs3/core-js-stable/symbol"),s=require("@babel/runtime-corejs3/core-js/get-iterator-method"),i=require("@babel/runtime-corejs3/core-js-stable/reflect/construct");require("core-js/modules/es.regexp.constructor.js"),require("core-js/modules/es.regexp.dot-all.js"),require("core-js/modules/es.regexp.sticky.js"),require("core-js/modules/es.regexp.test.js"),require("core-js/modules/es.reflect.to-string-tag.js");var c=require("@babel/runtime-corejs3/helpers/asyncToGenerator"),o=require("@babel/runtime-corejs3/helpers/classCallCheck"),f=require("@babel/runtime-corejs3/helpers/createClass"),d=require("@babel/runtime-corejs3/helpers/assertThisInitialized"),g=require("@babel/runtime-corejs3/helpers/possibleConstructorReturn"),h=require("@babel/runtime-corejs3/helpers/getPrototypeOf"),b=require("@babel/runtime-corejs3/helpers/typeof"),p=require("@babel/runtime-corejs3/helpers/toConsumableArray"),m=require("@babel/runtime-corejs3/helpers/slicedToArray"),v=require("@babel/runtime-corejs3/helpers/taggedTemplateLiteral"),y=require("@babel/runtime-corejs3/helpers/inherits"),j=require("@babel/runtime-corejs3/helpers/setPrototypeOf"),k=require("@babel/runtime-corejs3/regenerator");require("core-js/modules/es.regexp.exec.js"),require("core-js/modules/es.string.split.js"),require("core-js/modules/es.string.substr.js"),require("core-js/modules/es.function.name.js"),require("core-js/modules/es.error.to-string.js"),require("core-js/modules/es.date.to-string.js"),require("core-js/modules/es.object.to-string.js"),require("core-js/modules/es.regexp.to-string.js"),require("core-js/modules/esnext.array.last-index.js"),require("core-js/modules/es.string.replace.js"),require("core-js/modules/es.error.cause.js"),require("core-js/modules/es.array.iterator.js"),require("core-js/modules/es.promise.js"),require("core-js/modules/es.promise.all-settled.js"),require("core-js/modules/es.string.iterator.js"),require("core-js/modules/web.dom-collections.iterator.js");var q=require("@babel/runtime-corejs3/core-js-stable/string/raw"),_=require("@babel/runtime-corejs3/core-js-stable/instance/includes"),x=require("@babel/runtime-corejs3/core-js-stable/instance/map"),w=require("@babel/runtime-corejs3/core-js-stable/instance/trim"),L=require("@babel/runtime-corejs3/core-js-stable/instance/index-of"),S=require("@babel/runtime-corejs3/core-js-stable/instance/last-index-of"),$=require("@babel/runtime-corejs3/core-js-stable/parse-int"),A=require("@babel/runtime-corejs3/core-js-stable/instance/starts-with"),E=require("@babel/runtime-corejs3/core-js-stable/instance/ends-with"),F=require("@babel/runtime-corejs3/core-js-stable/instance/find-index"),M=require("@babel/runtime-corejs3/core-js-stable/object/assign"),I=require("@babel/runtime-corejs3/core-js/instance/replace-all"),N=require("@babel/runtime-corejs3/core-js-stable/array/is-array");require("@babel/runtime-corejs3/core-js-stable/json/stringify");var T=require("@babel/runtime-corejs3/core-js-stable/instance/concat"),D=require("@babel/runtime-corejs3/core-js-stable/instance/splice"),C=require("@babel/runtime-corejs3/core-js-stable/instance/for-each"),O=require("@babel/runtime-corejs3/core-js-stable/object/entries"),R=require("@babel/runtime-corejs3/core-js-stable/instance/slice"),V=require("@babel/runtime-corejs3/core-js-stable/promise"),z=require("@babel/runtime-corejs3/core-js-stable/object/get-prototype-of"),B=require("@babel/runtime-corejs3/core-js-stable/set"),P=require("@babel/runtime-corejs3/core-js/global-this"),U=require("@babel/runtime-corejs3/core-js-stable/instance/bind");function Y(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var H=Y(e),W=Y(t),G=Y(r),J=Y(a),K=Y(n),Q=Y(l),X=Y(u),Z=Y(s),ee=Y(i),te=Y(c),re=Y(o),ae=Y(f),ne=Y(d),le=Y(g),ue=Y(h),se=Y(b),ie=Y(p),ce=Y(m),oe=Y(v),fe=Y(y),de=Y(j),ge=Y(k),he=Y(q),be=Y(_),pe=Y(x),me=Y(w),ve=Y(L),ye=Y(S),je=Y($),ke=Y(A),qe=Y(E),_e=Y(F),xe=Y(M),we=Y(I),Le=Y(N),Se=Y(T),$e=Y(D),Ae=Y(C),Ee=Y(O),Fe=Y(R),Me=Y(V),Ie=Y(z),Ne=Y(B),Te=Y(P),De=Y(U);var Ce,Oe=function(e){if("object"!==se.default(e)||null===e)return!1;var t=Ie.default(e);if(null===t)return!0;for(var r=t;null!==Ie.default(r);)r=Ie.default(r);return t===r},Re=function(e){return!isNaN(je.default(e))},Ve=function e(t,r){var a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=xe.default({},t);return Ae.default(a=Ee.default(r)).call(a,(function(t){var r=ce.default(t,2),a=r[0],u=r[1];if(a in l)if("object"===se.default(u)&&null!==u)if(Le.default(u)){if(0===n.array)l[a]=u;else if(1===n.array){var s;l[a]=Se.default(s=[]).call(s,ie.default(l[a]),ie.default(u))}else if(2===n.array){var i;l[a]=ie.default(new Ne.default(Se.default(i=[]).call(i,ie.default(l[a]),ie.default(u))))}}else l[a]=e(l[a],u,n);else l[a]=u;else l[a]=u})),l},ze=function(e){return null===e?"Null":void 0===e?"Undefined":"function"==typeof e?"Function":e.constructor&&e.constructor.name},Be=function(){function e(){re.default(this,e),this._callbacks=[]}var t;return ae.default(e,[{key:"on",value:function(e){var t;be.default(t=this._callbacks).call(t,e)||this._callbacks.push(e)}},{key:"off",value:function(e){for(var t=0;t<this._callbacks.length;t++){var r;if(this._callbacks[t]===e)$e.default(r=this._callbacks).call(r,t,1)}}},{key:"offAll",value:function(){this._callbacks=[]}},{key:"emit",value:(t=te.default(ge.default.mark((function e(){var t,r,a,n,l,u=arguments;return ge.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=u.length,r=new Array(t),a=0;a<t;a++)r[a]=u[a];if(!Me.default.allSettled){e.next=6;break}return e.next=4,Me.default.allSettled(pe.default(n=this._callbacks).call(n,(function(e){return e.apply(void 0,r)})));case 4:e.next=8;break;case 6:return e.next=8,Me.default.all(pe.default(l=this._callbacks).call(l,(function(e){return e.apply(void 0,r)})));case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}(),Pe=["String","Number","Boolean","Object","Array","Function","Null","Undefined","Symbol","Date","RegExp","Error"],Ue=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(re.default(this,e),this._id=t.id||(new Date).getTime().toString()+je.default(1e3*Math.random()),this._languages=t.languages,this._defaultLanguage=t.defaultLanguage||"zh",this._activeLanguage=t.activeLanguage,this._default=t.default,this._messages=t.messages,this._idMap=t.idMap,this._formatters=t.formatters,this._loaders=t.loaders,this._global=null,this.$cache={activeLanguage:null,typedFormatters:{},formatters:{}},!Te.default.VoerkaI18n){var a=mt.I18nManager;Te.default.VoerkaI18n=new a({defaultLanguage:this.defaultLanguage,activeLanguage:this.activeLanguage,languages:t.languages})}this.global=Te.default.VoerkaI18n,this._loading=!1,this.register(r)}var t;return ae.default(e,[{key:"id",get:function(){return this._id}},{key:"defaultLanguage",get:function(){return this._defaultLanguage}},{key:"activeLanguage",get:function(){return this._activeLanguage}},{key:"default",get:function(){return this._default}},{key:"messages",get:function(){return this._messages}},{key:"idMap",get:function(){return this._idMap}},{key:"formatters",get:function(){return this._formatters}},{key:"loaders",get:function(){return this._loaders}},{key:"global",get:function(){return this._global},set:function(e){this._global=e}},{key:"register",value:function(e){"function"===!se.default(e)&&(e=function(){}),this.global.register(this).then(e).catch(e)}},{key:"registerFormatter",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.language,n=void 0===a?"*":a;if("function"===!se.default(t)||"string"!=typeof e)throw new TypeError("Formatter must be a function");be.default(Pe).call(Pe,e)?this.formatters[n].$types[e]=t:this.formatters[n][e]=t}},{key:"_fallback",value:function(){this._messages=this._default,this._activeLanguage=this.defaultLanguage}},{key:"refresh",value:(t=te.default(ge.default.mark((function e(t){var r,a,n;return ge.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._loading=Me.default.resolve(),t||(t=this.activeLanguage),t!==this.defaultLanguage){e.next=5;break}return this._messages=this._default,e.abrupt("return");case 5:if("function"!=typeof(r=this.loaders[t])){e.next=20;break}return e.prev=7,e.next=10,r();case 10:this._messages=e.sent.default,this._activeLanguage=t,e.next=18;break;case 14:e.prev=14,e.t0=e.catch(7),console.warn(Se.default(a=Se.default(n="Error while loading language <".concat(t,"> on i18nScope(")).call(n,this.id,"): ")).call(a,e.t0.message)),this._fallback();case 18:e.next=21;break;case 20:this._fallback();case 21:case"end":return e.stop()}}),e,this,[[7,14]])}))),function(e){return t.apply(this,arguments)})},{key:"on",get:function(){var e;return De.default(e=this.global.on).call(e,this.global)}},{key:"off",get:function(){var e;return De.default(e=this.global.off).call(e,this.global)}},{key:"offAll",get:function(){var e;return De.default(e=this.global.offAll).call(e,this.global)}},{key:"change",get:function(){var e;return De.default(e=this.global.change).call(e,this.global)}}]),e}();function Ye(e){var t=function(){if("undefined"==typeof Reflect||!ee.default)return!1;if(ee.default.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(ee.default(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=ue.default(e);if(t){var n=ue.default(this).constructor;r=ee.default(a,arguments,n)}else r=a.apply(this,arguments);return le.default(this,r)}}function He(e,t){var r=void 0!==X.default&&Z.default(e)||e["@@iterator"];if(!r){if(Le.default(e)||(r=function(e,t){var r;if(!e)return;if("string"==typeof e)return We(e,t);var a=Fe.default(r=Object.prototype.toString.call(e)).call(r,8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Q.default(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return We(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var a=0,n=function(){};return{s:n,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return u=e.done,e},e:function(e){s=!0,l=e},f:function(){try{u||null==r.return||r.return()}finally{if(s)throw l}}}}function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Ge(){Ge=function(e,t){return new r(e,void 0,t)};var e=RegExp.prototype,t=new H.default;function r(e,a,n){var l=new RegExp(e,a);return t.set(l,n||t.get(e)),de.default(l,r.prototype)}function a(e,r){var a,n=t.get(r);return W.default(a=G.default(n)).call(a,(function(t,r){return t[r]=e[n[r]],t}),J.default(null))}return fe.default(r,RegExp),r.prototype.exec=function(t){var r=e.exec.call(this,t);return r&&(r.groups=a(r,this)),r},r.prototype[K.default]=function(r,n){if("string"==typeof n){var l=t.get(this);return e[K.default].call(this,r,n.replace(/\$<([^>]+)>/g,(function(e,t){return"$"+l[t]})))}if("function"==typeof n){var u=this;return e[K.default].call(this,r,(function(){var e=arguments;return"object"!=se.default(e[e.length-1])&&(e=Fe.default([]).call(e)).push(a(e,u)),n.apply(this,e)}))}return e[K.default].call(this,r,n)},Ge.apply(this,arguments)}var Je=ze,Ke=Re,Qe=Oe,Xe=Ve,Ze=Be,et=Ue,tt={"*":{$types:{Date:function(e){return e.toLocaleString()}},time:function(e){return e.toLocaleTimeString()},shorttime:function(e){return e.toLocaleTimeString()},date:function(e){return e.toLocaleDateString()},dict:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];for(var n=0;n<r.length;n+=2)if(r[n]===e)return r[n+1];return r.length>0&&r.length%2!=0?r[r.length-1]:e}},zh:{$types:{Date:function(e){var t,r,a,n,l;return Se.default(t=Se.default(r=Se.default(a=Se.default(n=Se.default(l="".concat(e.getFullYear(),"年")).call(l,e.getMonth()+1,"月")).call(n,e.getDate(),"日 ")).call(a,e.getHours(),"点")).call(r,e.getMinutes(),"分")).call(t,e.getSeconds(),"秒")}},shortime:function(e){return e.toLocaleTimeString()},time:function(e){var t,r;return Se.default(t=Se.default(r="".concat(e.getHours(),"点")).call(r,e.getMinutes(),"分")).call(t,e.getSeconds(),"秒")},date:function(e){var t,r;return Se.default(t=Se.default(r="".concat(e.getFullYear(),"年")).call(r,e.getMonth()+1,"月")).call(t,e.getDate(),"日")},shortdate:function(e){var t,r;return Se.default(t=Se.default(r="".concat(e.getFullYear(),"-")).call(r,e.getMonth()+1,"-")).call(t,e.getDate())},currency:function(e){return"".concat(e,"元")}},en:{currency:function(e){return"$".concat(e)}}},rt=Ge(/\{\s*(\w+)?((\s*\|\s*\w*(\(.*\))?\s*)*)\s*\}/g,{varname:1,formatters:2});function at(e){return be.default(e).call(e,"{")&&be.default(e).call(e,"}")}he.default(Ce||(Ce=oe.default(["{s*{varname}s*}"],["\\{\\s*{varname}\\s*\\}"])));var nt=["String","Number","Boolean","Object","Array","Function","Error","Symbol","RegExp","Date","Null","Undefined","Set","Map","WeakSet","WeakMap"];function lt(e){var t,r;if(!e)return[];var a=pe.default(t=me.default(r=me.default(e).call(e).substr(1)).call(r).split("|")).call(t,(function(e){return me.default(e).call(e)}));return pe.default(a).call(a,(function(e){var t=ve.default(e).call(e,"("),r=ye.default(e).call(e,")");if(-1!==t&&-1!==r){var a,n,l=me.default(a=e.substr(t+1,r-t-1)).call(a),u=""==l?[]:pe.default(n=l.split(",")).call(n,(function(e){if(e=me.default(e).call(e),!isNaN(je.default(e)))return je.default(e);if(ke.default(e).call(e,'"')&&qe.default(e).call(e,'"')||ke.default(e).call(e,"'")&&qe.default(e).call(e,"'"))return e.substr(1,e.length-2);if("true"===e.toLowerCase()||"false"===e.toLowerCase())return"true"===e.toLowerCase();if(!(ke.default(e).call(e,"{")&&qe.default(e).call(e,"}")||ke.default(e).call(e,"[")&&qe.default(e).call(e,"]")))return String(e);try{return JSON.parse(e)}catch(t){return String(e)}}));return[e.substr(0,t),u]}return[e,[]]}))}function ut(e,t){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=e,l=xe.default({replaceAll:!0},a);for(rt.lastIndex=0;null!==(r=rt.exec(n));){var u=r.groups.varname||"",s=lt(r.groups.formatters);if("function"==typeof t)try{n=we.default(l)?we.default(n).call(n,r[0],t(u,s,r[0])):n.replace(r[0],t(u,s,r[0]))}catch(e){break}rt.lastIndex=0}return n}function st(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e.$cache={activeLanguage:t,typedFormatters:{},formatters:{}}}function it(e,t,r){var a,n=[],l=He(r);try{var u=function(){var r=a.value;if(r[0]){var l=function(e,t,r){if(e.$cache||st(e),e.$cache.activeLanguage===t){if(r in e.$cache.formatters)return e.$cache.formatters[r]}else st(e,t);for(var a=0,n=[e.formatters,e.global.formatters];a<n.length;a++){var l=n[a];if(t in l){var u=l[t]||{};if(r in u&&"function"==typeof u[r])return e.$cache.formatters[r]=u[r]}var s=l["*"]||{};if(r in s&&"function"==typeof s[r])return e.$cache.formatters[r]=s[r]}}(e,t,r[0]);"function"==typeof l?n.push((function(e){var t;return l.apply(void 0,Se.default(t=[e]).call(t,ie.default(r[1])))})):n.push((function(e){var t,a;return"function"==typeof e[r[0]]?(t=e[r[0]]).call.apply(t,Se.default(a=[e]).call(a,ie.default(r[1]))):e}))}};for(l.s();!(a=l.n()).done;)u()}catch(e){l.e(e)}finally{l.f()}return n}function ct(e,t,r,a){var n=it(e,t,r),l=function(e,t,r){if(e.$cache||st(e),e.$cache.activeLanguage===t){if(r in e.$cache.typedFormatters)return e.$cache.typedFormatters[r]}else st(e,t);for(var a=0,n=[e.formatters,e.global.formatters];a<n.length;a++){var l=n[a];if(l){if(t in l&&Qe(l[t].$types)){var u=l[t].$types;if(r in u&&"function"==typeof u[r])return e.$cache.typedFormatters[r]=u[r]}if("*"in l&&Qe(l["*"].$types)){var s=l["*"].$types;if(r in s&&"function"==typeof s[r])return e.$cache.typedFormatters[r]=s[r]}}}}(e,t,Je(a));return l&&$e.default(n).call(n,0,0,l),a=function(e,t){if(0===t.length)return e;var r=e;try{var a,n=He(t);try{for(n.s();!(a=n.n()).done;){var l=a.value;if("function"!=typeof l)return r;r=l(r)}}catch(e){n.e(e)}finally{n.f()}}catch(t){var u;console.error(Se.default(u="Error while execute i18n formatter for ".concat(e,": ")).call(u,t.message," "))}return r}(a,n),a}function ot(e){for(var t=this,r=t.global.activeLanguage,a=arguments.length,n=new Array(a>1?a-1:0),l=1;l<a;l++)n[l-1]=arguments[l];if(0===n.length||!at(e))return e;if(1===n.length&&Qe(n[0])){var u=n[0];return ut(e,(function(e,a){var n=e in u?u[e]:"";return ct(t,r,a,n)}))}var s=1===n.length&&Le.default(n[0])?ie.default(n[0]):n;if(0===s.length)return e;var i=0;return ut(e,(function(e,a){if(s.length>i)return ct(t,r,a,s[i++]);throw new Error}),{replaceAll:!1})}var ft={defaultLanguage:"zh",activeLanguage:"zh",languages:[{name:"zh",title:"中文",default:!0},{name:"en",title:"英文"}],formatters:tt};function dt(e){return je.default(e)>0}function gt(e,t){try{return Le.default(e)?e.length>t?e[t]:e[e.length-1]:e}catch(t){return Le.default(e)?e[0]:e}}function ht(e){var t,r,a,n,l,u,s,i;return we.default(t=we.default(r=we.default(a=we.default(n=we.default(l=we.default(u=we.default(s=we.default(i=we.default(e).call(e,/\\(?![trnbvf'"]{1})/g,"\\\\")).call(i,"\t","\\t")).call(s,"\n","\\n")).call(u,"\b","\\b")).call(l,"\r","\\r")).call(n,"\f","\\f")).call(a,"'","\\'")).call(r,'"','\\"')).call(t,"\v","\\v")}function bt(e){var t,r,a,n,l,u,s,i;return we.default(t=we.default(r=we.default(a=we.default(n=we.default(l=we.default(u=we.default(s=we.default(i=we.default(e).call(e,"\\t","\t")).call(i,"\\n","\n")).call(s,"\\b","\b")).call(u,"\\r","\r")).call(l,"\\f","\f")).call(n,"\\'","'")).call(a,'\\"','"')).call(r,"\\v","\v")).call(t,/\\\\(?![trnbvf'"]{1})/g,"\\")}var pt=function(e){fe.default(l,e);var t,r,a,n=Ye(l);function l(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return re.default(this,l),e=n.call(this),null!=l.instance||(l.instance=ne.default(e),e._settings=Xe(ft,t),e._scopes=[]),le.default(e,l.instance)}return ae.default(l,[{key:"settings",get:function(){return this._settings}},{key:"scopes",get:function(){return this._scopes}},{key:"activeLanguage",get:function(){return this._settings.activeLanguage}},{key:"defaultLanguage",get:function(){return this._settings.defaultLanguage}},{key:"languages",get:function(){return this._settings.languages}},{key:"formatters",get:function(){return tt}},{key:"change",value:(a=te.default(ge.default.mark((function e(t){var r;return ge.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=me.default(t).call(t),-1===_e.default(r=this.languages).call(r,(function(e){return e.name===t}))){e.next=9;break}return e.next=4,this._refreshScopes(t);case 4:return this._settings.activeLanguage=t,e.next=7,this.emit(t);case 7:e.next=10;break;case 9:throw new Error("Not supported language:"+t);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"_refreshScopes",value:(r=te.default(ge.default.mark((function e(t){var r,a;return ge.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=pe.default(r=this._scopes).call(r,(function(e){return e.refresh(t)})),!Me.default.allSettled){e.next=7;break}return e.next=5,Me.default.allSettled(a);case 5:e.next=9;break;case 7:return e.next=9,Me.default.all(a);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.warn("Error while refreshing i18n scopes:",e.t0.message);case 14:case"end":return e.stop()}}),e,this,[[0,11]])}))),function(e){return r.apply(this,arguments)})},{key:"register",value:(t=te.default(ge.default.mark((function e(t){return ge.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t instanceof et){e.next=2;break}throw new TypeError("Scope must be an instance of I18nScope");case 2:return this._scopes.push(t),e.next=5,t.refresh(this.activeLanguage);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"registerFormatter",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.language,n=void 0===a?"*":a;if("function"===!se.default(t)||"string"!=typeof e)throw new TypeError("Formatter must be a function");be.default(nt).call(nt,e)?this.formatters[n].$types[e]=t:this.formatters[n][e]=t}}]),l}(Ze),mt={getInterpolatedVars:function(e){var t=[];return ut(e,(function(e,r,a){var n={name:e,formatters:pe.default(r).call(r,(function(e){var t=ce.default(e,2);return{name:t[0],args:t[1]}})),match:a};return-1===_e.default(t).call(t,(function(e){return e.name===n.name&&n.formatters.toString()==e.formatters.toString()}))&&t.push(n),""})),t},replaceInterpolatedVars:ot,I18nManager:pt,translate:function(e){var t=this,r=t.global.activeLanguage,a=e,n=[],l=[],u=null;if("string"===!se.default(e))return e;try{var s,i;if(2===arguments.length&&Qe(arguments[1]))Ae.default(s=Ee.default(arguments[1])).call(s,(function(e){var t=ce.default(e,2),r=t[0],a=t[1];if("function"==typeof a)try{n[r]=a()}catch(e){n[r]=a}ke.default(r).call(r,"$")&&"number"==typeof n[r]&&l.push(r)})),n=[arguments[1]];else if(arguments.length>=2){var c,o;n=pe.default(c=$e.default(o=Fe.default(Array.prototype).call(arguments)).call(o,1)).call(c,(function(e,t){try{e="function"==typeof e?e():e,Ke(e)&&(u=je.default(e))}catch(e){}return e}))}if(r===t.defaultLanguage)dt(a)&&(a=t.default[a]||e);else{var f=dt(a)?a:t.idMap[ht(a)];a=t.messages[f]||a,a=Le.default(a)?pe.default(a).call(a,(function(e){return bt(e)})):bt(a)}return Le.default(a)&&a.length>0&&(a=null!==u?gt(a,u):pluralVar.length>0?gt(a,je.default(n(pluralVar[0]))):a[0]),0==n.length?a:ot.call.apply(ot,Se.default(i=[t,a]).call(i,ie.default(n)))}catch(e){return a}},i18nScope:et,defaultLanguageSettings:ft,getDataTypeName:Je,isNumber:Ke,isPlainObject:Qe};module.exports=mt;
//# sourceMappingURL=index.cjs.map
